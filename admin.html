<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة مقسمة</title>
<style>
        body {
        margin: 0;

        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-position: center;
        background-image: url("./photo_2024-06-28_02-58-02.jpg");
        background-repeat: no-repeat;
        background-size: cover;
      }
      .overly {
        background: #0c1c2cc0;
        width: 100%;
        height: 100%;
        position: absolute;
        z-index: 1;
      }

      #topSection {
        text-align: center;
        color: #fff;
        font-size: 34px;
        padding-top: 20px;
        z-index: 900;
        position: absolute;
        left: 50%;
        transform: translate(-50%, 0%);
      }
      #banner {
        position: fixed;
        top: 100px; /* ارتفاع البانر من الأعلى بـ 10 بكسل */
        left: 50%;
        transform: translateX(-50%);
        font-size: 24px;
        color: #ff0000;
        z-index: 999; /* لضمان ظهوره فوق أي شيء آخر */
      }
      #bottomSection {
        text-align: center;
        padding: -2px;
      }
</style>
  </head>
  <body>
    <div class="overly"></div>
    <div id="topSection">
	  تم تفعل هاك
    </div>
	<div id="banner"><span id="hours">01</span>:<span id="minutes">00</span>:<span id="seconds">00</span></div>

	
  </body>
  <script>

    // الدالة لتحميل العداد والكود من localStorage
    function loadTimer() {
      const savedData = localStorage.getItem("timerData");
      if (savedData) {
        return JSON.parse(savedData);
      }
      return { hours: 0, minutes: 10, seconds: 0, userCode: "" };
    }

    // الدالة لحفظ العداد والكود إلى localStorage
    function saveTimer(hours, minutes, seconds, userCode) {
      localStorage.setItem(
        "timerData",
        JSON.stringify({ hours, minutes, seconds, userCode })
      );
    }

    (function () {
      const hoursElement = document.getElementById("hours");
      const minutesElement = document.getElementById("minutes");
      const secondsElement = document.getElementById("seconds");

      const userCode = localStorage.getItem("userCode");;
      let { hours, minutes, seconds, userCode: storedCode } = loadTimer();

      // إذا كان الكود المخزن مختلف، إعادة تعيين العداد وتحديث localStorage
      if (storedCode !== userCode) {
        hours = 24;
        minutes = 0;
        seconds = 0;
        saveTimer(hours, minutes, seconds, userCode);
      }

      let timerInterval;

      function updateDisplay() {
        hoursElement.innerText = hours.toString().padStart(2, "0");
        minutesElement.innerText = minutes.toString().padStart(2, "0");
        secondsElement.innerText = seconds.toString().padStart(2, "0");
      }

      function countdown() {
        if (hours === 0 && minutes === 0 && seconds === 0) {
          clearInterval(timerInterval);
          document.getElementById("message").style.display = "block";
          document.getElementById("banner").innerText = "الوقت انتهى";
          document.getElementById("alert").innerText = "لقد انتهى الوقت";
        } else {
          if (seconds > 0) {
            seconds--;
          } else {
            if (minutes > 0) {
              minutes--;
              seconds = 59;
            } else if (hours > 0) {
              hours--;
              minutes = 59;
              seconds = 59;
            }
          }
          updateDisplay();
          saveTimer(hours, minutes, seconds, userCode);
        }
      }

      // تشغيل العداد عند تحميل الصفحة إذا لم يكن منتهي
      if (hours !== 0 || minutes !== 0 || seconds !== 0) {
        timerInterval = setInterval(countdown, 1000);
      } else {
        document.getElementById("message").style.display = "block";
        document.getElementById("banner").innerText = "الوقت انتهى";
        document.getElementById("alert").innerText = "لقد انتهى الوقت";
      }

      updateDisplay();
    })();
  </script>
  </body>

  

</html>
